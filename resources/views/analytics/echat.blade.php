
    <link href="/vendor/laravel-admin/analytic/select2.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="/vendor/laravel-admin/analytic/pace-theme-flash.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="/vendor/laravel-admin/analytic/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="/vendor/laravel-admin/analytic/bootstrap-theme.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" href="/vendor/laravel-admin/analytic/demo.css" />
    <link href="/vendor/laravel-admin/analytic/font-awesome.css" rel="stylesheet" type="text/css" />
    <link href="/vendor/laravel-admin/analytic/animate.min.css" rel="stylesheet" type="text/css" />
    <link href="/vendor/laravel-admin/analytic/jquery.scrollbar.css" rel="stylesheet" type="text/css" />
    <link href="/vendor/laravel-admin/analytic/datepicker.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="/vendor/laravel-admin/analytic/sweet-alert.css">
    <link rel="stylesheet" href="/vendor/laravel-admin/analytic/rickshaw.css" type="text/css" media="screen">
    <link rel="stylesheet" href="/vendor/laravel-admin/analytic/mapplic.css" type="text/css" media="screen">
    <link rel="stylesheet" href="/vendor/laravel-admin/analytic/ionicons.css" type="text/css">
    <link href="/vendor/laravel-admin/analytic/messenger.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="/vendor/laravel-admin/analytic/messenger-theme-flat.css" rel="stylesheet" type="text/css" media="screen" />
    <link rel="icon" type="image/png" href="/vendor/laravel-admin/analytic/favicon.png">
    <link href="/vendor/laravel-admin/analytic/jquery-jvectormap-1.2.2.css?v=0.1" rel="stylesheet" type="text/css" media="screen" />
    <!-- END PLUGIN CSS -->
    <!-- BEGIN CORE CSS FRAMEWORK -->
    <link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="/vendor/laravel-admin/analytic/webarch.css?v=0.2" rel="stylesheet" type="text/css" />
    <link href="/vendor/laravel-admin/analytic/custom.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="/vendor/laravel-admin/analytic/links_img.css">
    <!-- END CORE CSS FRAMEWORK -->

    <!-- END CONTENT -->
    <!-- BEGIN CORE JS FRAMEWORK-->
    <script src="/vendor/laravel-admin/analytic/pace.min.js" type="text/javascript"></script>
    <!-- BEGIN JS DEPENDECENCIES-->
    <script src="/vendor/laravel-admin/analytic/jquery-2.1.4.js"></script>
    <!--	<script src="assets/plugins/bootstrapv3/js/bootstrap.min.js" type="text/javascript"></script>-->
    <script src="/vendor/laravel-admin/analytic/bootstrap.js" type="text/javascript"></script>
    <script src="/vendor/laravel-admin/analytic/bootstrap-popover-custom-class.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
    <script src="/vendor/laravel-admin/analytic/jqueryblockui.min.js" type="text/javascript"></script>
    <script src="/vendor/laravel-admin/analytic/jquery.unveil.min.js" type="text/javascript"></script>
    <script src="/vendor/laravel-admin/analytic/jquery.scrollbar.min.js" type="text/javascript"></script>
    <script src="/vendor/laravel-admin/analytic/jquery.animateNumbers.js" type="text/javascript"></script>
    <script src="/vendor/laravel-admin/analytic/jquery.validate.min.js" type="text/javascript"></script>
    <script src="/vendor/laravel-admin/analytic/select2.js" type="text/javascript"></script>
    <script src="/vendor/laravel-admin/analytic/bootstrap-datepicker.js" type="text/javascript"></script>
    <script src="/vendor/laravel-admin/analytic/bootstrap-timepicker.min.js" type="text/javascript"></script>
    <script src="/vendor/laravel-admin/analytic/form_elements.js" type="text/javascript"></script>
    <script src="/vendor/laravel-admin/analytic/sweet-alert.min.js"></script>
    <script src="/vendor/laravel-admin/analytic/clipboard.js"></script>
    <script src="/vendor/laravel-admin/analytic/messenger.min.js" type="text/javascript"></script>
    <!-- END CORE JS DEPENDECENCIES-->
    <!-- BEGIN CORE TEMPLATE JS -->
    <script src="/vendor/laravel-admin/analytic/webarch.js" type="text/javascript"></script>
    <script src="/vendor/laravel-admin/analytic/chat.js" type="text/javascript"></script>
    <!-- END CORE TEMPLATE JS -->


    <script src="/vendor/laravel-admin/analytic/ckeditor.js?v=0.1" type="text/javascript"></script>
    <script src="/vendor/laravel-admin/analytic/config.js?v=0.1" type="text/javascript"></script>


    <!-- for tutorial.php || headerMenuFaq.php || faq.php -->
    <link href="/vendor/laravel-admin/analytic/lity.css" rel="stylesheet">
    <script src="/vendor/laravel-admin/analytic/lity.js"></script>

    <script src="/vendor/laravel-admin/analytic/jquery.cookie.js"></script>

    <script src="/vendor/laravel-admin/analytic/main.js?v=0.5"></script>
    <script type="text/javascript" src="/vendor/laravel-admin/analytic/notifications.js?v=0.4"></script>
    <script type="text/javascript" src="/vendor/laravel-admin/analytic/email-broadcast.js?v=0.1"></script>





<!-- BEGIN CONTENT -->

    <!-- BEGIN SIDEBAR -->

    <a href="#" class="scrollup">Scroll</a>

    <!-- END SIDEBAR -->
    <!-- BEGIN PAGE CONTAINER-->
    <div class="page-content">
        <div class="content">

                <link href="assets/plugins/jquery-datatable/css/jquery.dataTables.css" rel="stylesheet" type="text/css" />
                <link href="assets/plugins/datatables-responsive/css/datatables.responsive.css" rel="stylesheet" type="text/css" media="screen" />

            <div class="col-md-12">
                <div class="row">
                    <div class="grid simple">
                        <div class="grid-title no-border">
                            <div class="col-xs-12">
                                <div class="row">
                                    <div class="col-xs-12 col-md-6 col-lg-2_min_col_lg_1 use_small_padding">
                                        <div class="timezone">
                                            <select class="select_timezone">
                                                <option timeZoneId="1" gmtAdjustment="GMT-12:00" useDaylightTime="0" data-val="-12" value="1">(GMT-12:00) International Date Line West</option>
                                                <option timeZoneId="2" gmtAdjustment="GMT-11:00" useDaylightTime="0" data-val="-11" value="2">(GMT-11:00) Midway Island, Samoa</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-md-6 col-lg-2_min_col_lg_1 use_small_padding">
                                        <div class="row">
                                            <div class="col-xs-12">
                                                <select class="list_date select2_list padding_left" name="date" id="">
                                                    <option value="today">Today</option>
                                                    <option value="yester">Yesterday</option>
                                                    <option value="week">Current Week</option>
                                                    <option value="month">Current Month</option>
                                                    <option value="year">Year To Date</option>
                                                    <option value="l_week">Last Week</option>
                                                    <option value="l_month">Last Month</option>
                                                    <option value="calendar">Custom</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-md-6 col-lg-2_min_col_lg_1 use_small_padding calendar_padding">
                                        <div class="col-xs-4 col-sm-4">
                                            <div class="row">
                                                <div class="about_color">
                                                    <p class="about_inputs">Start</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="input-append success col-xs-8 col-sm-8">
                                            <div class="row">
                                                <input type="text" class="form-control date_start date_pic_wid sandbox-advance" >
                                                <span class="add-on"><span class="arrow"></span><i class="fa fa-th"></i></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-md-6 col-lg-2_min_col_lg_1 use_small_padding calendar_padding">
                                        <div class="col-xs-4 col-sm-4">
                                            <div class="row">
                                                <div class="about_color">
                                                    <p class="about_inputs">End</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="input-append success col-xs-8 col-sm-8">
                                            <div class="row">
                                                <input type="text" class="form-control date_end date_pic_wid sandbox-advance">
                                                <span class="add-on"><span class="arrow"></span><i class="fa fa-th"></i></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-md-6 col-lg-2_min_col_lg_1">
                                        <div class="row">
                                            <div class="col-xs-12 use_small_padding">
                                                <select class="select2_offers" name="offers" id="offers" multiple="multiple">
                                                    <option value="DroneX">Ecommerce - DroneX INTL - All Languages - EXCLUSIVE</option><option value="Tactical Flashlight">Ecommerce - TacticalX Flashlight INTL - All Languages - EXCLUSIVE</option>								</select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-md-6 col-lg-2_min_col_lg_1">
                                        <div class="row">
                                            <div class="col-xs-12 use_small_padding">
                                                <select class="select2_geos" name="offer_geos" id="geos" multiple>
                                                    <option value="Albania">Albania</option><option value="Algeria">Algeria</option><option value="Andorra">Andorra</option><option value="Angola">Angola</option>									</select>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-md-12 col-lg-1">
                                        <div class="row">
                                            <div class="col-xs-12 use_small_padding">
                                                <form id="report">
                                                    <div>
                                                        <button class="btn btn-success btn-cons button_top" type="submit">Report</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-12">
                        <div class="row">
                            <div class="grid simple">
                                <div class="all_clients grid-body no-border" style="overflow-x: hidden;">
                                    <h3>Performance <span class="semi-bold night_blue">Evolution</span></h3>
                                    <p>Visualize the trends of your Revenue & Conversions over the selected period of time.</p>
                                    <br>
                                    <div id="placeholder" class="demo-placeholder" style="width:95%;height:250px; padding-right: 76px;">
                                        <canvas id="myPieChart" style="width: 484px;height:233px;"></canvas>
                                    </div>




                                    <div class="row">
{{--                                        <div class="col-md-6">--}}
{{--                                            <div class="mini-chart-wrapper">--}}
{{--                                                <div class="chart-details-wrapper">--}}
{{--                                                    <div class="chartname"> Conversions </div>--}}
{{--                                                    <div class="chart-value conversions"> 0 </div>--}}
{{--                                                </div>--}}
{{--                                                <div class="mini-chart">--}}
{{--                                                    <div id="mini-chart-orders"></div>--}}
{{--                                                </div>--}}
{{--                                            </div>--}}
{{--                                        </div>--}}
{{--                                        <div class="col-md-6">--}}
{{--                                            <div class="mini-chart-wrapper">--}}
{{--                                                <div class="chart-details-wrapper">--}}
{{--                                                    <div class="chartname"> Revenue </div>--}}
{{--                                                    <div class="chart-value revenue"> 0 </div>--}}
{{--                                                </div>--}}
{{--                                                <div class="mini-chart">--}}
{{--                                                    <div id="mini-chart-other"></div>--}}
{{--                                                </div>--}}
{{--                                            </div>--}}
{{--                                        </div>--}}
                                    </div>

                                    <span class="graph-btns">
										<div class="btn-group graph-selector">
										<button class="btn btn-mini btn-success hidden" data-analytics-performance-active="revenue">Revenue</button>
										<button class="btn btn-mini btn-success" data-analytics-performance-active="conversion">Conversion</button>
										<button class="btn btn-mini btn-success dropdown-toggle m-b-5" data-toggle="dropdown"> <span class="caret"></span> </button>
										<ul class="dropdown-menu dropdown-menu-right">
											<li><a href="javascript:void(0);" data-analytics-performance="revenue">Revenue</a></li>
											<li><a href="javascript:void(0);" data-analytics-performance="conversion">Conversion</a></li>
										</ul>
									</div>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="col-sm-12">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="grid simple">
                                    <div class="grid-body no-border">
                                        <h4>Revenue <span class="semi-bold night_blue">Segmentation</span></h4>
                                        <p>Visualize your Revenue segmented by Offer over the selected period of time.</p>
                                        <div id="donut-example" style="height:270px;"> </div>

                                        <span class="graph-btns">
																			<div class="btn-group graph-selector hidden">
											<button class="btn btn-mini btn-success hidden" data-analytics-revenue-active="revenue">Revenue</button>
											<button class="btn btn-mini btn-success hidden" data-analytics-revenue-active="conversion">Conversion</button>
											<button class="btn btn-mini btn-success hidden" data-analytics-revenue-active="percent">Percent</button>
											<button class="btn btn-mini btn-success dropdown-toggle m-b-5" data-toggle="dropdown"> <span class="caret"></span> </button>
											<ul class="dropdown-menu dropdown-menu-right">
												<li><a href="javascript:void(0);" data-analytics-revenue="revenue">Revenue</a></li>
												<li><a href="javascript:void(0);" data-analytics-revenue="conversion">Conversion</a></li>
												<li><a href="javascript:void(0);" data-analytics-revenue="percent">Percent</a></li>
											</ul>
										</div>
																		</span>

                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="grid simple">
                                    <div class="grid-body no-border">
                                        <div class="row-fluid">
                                            <h4>Offer Geo <span class="semi-bold night_blue">Distribution</span></h4>
                                            <p>Visualize your Offers Revenue segmented by Country over the selected period of time.</p>
                                            <br>
                                            <div id="stacked-ordered-chart" style="height:250px" data-page-length="10" data-bar-width="0.5" data-page="1"></div>

                                            <span class="graph-btns">
																					<div class="btn-group graph-selector hidden">
												<button class="btn btn-mini btn-success hidden" data-analytics-geo-active="revenue">Revenue</button>
												<button class="btn btn-mini btn-success hidden" data-analytics-geo-active="conversion">Conversion</button>
												<button class="btn btn-mini btn-success hidden" data-analytics-geo-active="percent">Percent</button>
												<button class="btn btn-mini btn-success dropdown-toggle m-b-5" data-toggle="dropdown"> <span class="caret"></span> </button>
												<ul class="dropdown-menu dropdown-menu-right">
													<li><a href="javascript:void(0);" data-analytics-geo="revenue">Revenue</a></li>
													<li><a href="javascript:void(0);" data-analytics-geo="conversion">Conversion</a></li>
													<li><a href="javascript:void(0);" data-analytics-geo="percent">Percent</a></li>
												</ul>
											</div>
																					<div class="btn-group graph-paginator hidden m-l-10" data-target="stacked-ordered-chart">
											<button class="btn btn-white graph-prev hidden m-b-5" type="button"><i class="fa fa-chevron-left"></i></button>
											<button class="btn btn-white graph-next m-b-5" type="button"><i class="fa fa-chevron-right"></i> </button>
										</div>
									</span>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="col-sm-12">
                        <div class="row">
                            <div class="grid simple">
                                <div class="all_clients grid-body no-border">
                                    <table class="show_result table table-striped table-flip-scroll cf" id="example2"></table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- <script src="assets/plugins/jquery-ricksaw-chart/js/d3.v2.js"></script> -->
            <!-- <script src="assets/plugins/jquery-ricksaw-chart/js/rickshaw.min.js"></script> -->
            <script src="/vendor/laravel-admin/analytic/morris.min.js"></script>
            <script src="/vendor/laravel-admin/analytic/jquery.flot.js"></script>
            <script src="/vendor/laravel-admin/analytic/jquery.flot.animator.min.js"></script>
            <script src="/vendor/laravel-admin/analytic/jquery.flot.orderBars.js"></script>
            <script src="/vendor/laravel-admin/analytic/jquery-sparkline.js"></script>

            <script src="/vendor/laravel-admin/analytic/graphics.js"></script>
            <script src="/vendor/laravel-admin/analytic/functions.js"></script>
            <script>
                $(document).ready(function(){
                    $(".select2_list").select2();
                    $(".select2_list").val("week").trigger("change");

                    $(".select_timezone").select2();
                    $(".select_timezone").val("64").trigger("change");
                });
            </script>
            <style type="text/css">
                .DTTT_button_collection,.dataTables_length,.dataTables_filter{
                    display: none;
                }
            </style>
            <script src="/vendor/laravel-admin/analytic/data_table.js"></script>
            <script src="/vendor/laravel-admin/analytic/summary.js"></script>

            <script src="/vendor/laravel-admin/analytic/jquery.dataTables.min.js" type="text/javascript"></script>
            <script src="/vendor/laravel-admin/analytic/dataTables.tableTools.min.js" type="text/javascript"></script>
            <script type="text/javascript" src="/vendor/laravel-admin/analytic/datatables.responsive.js"></script>
            <script type="text/javascript" src="/vendor/laravel-admin/analytic/lodash.min.js"></script>






        </div>
    </div>


    <!-- END PAGE CONTAINER -->

    <!-- Modal -->
    <div class="modal fade" id="notification_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <br>
                    <div class="cbp_tmicon primary animated bounceIn notification_modal_image">
                        <!-- Notification image-->
                    </div>
                    <div class="notification_modal_head_block">
                        <h4 id="notification_modal_Label" class="semi-bold text-info"></h4>
                        <p> <span class="data_notification"></span> <span class="time_notification"></span></p>
                        <p class="m-10"></p>
                        <div class="container_notify">

                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> -->
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->



    <script>
        var frontendData = @json($data);

        $(document).ready(function () {
            var data = frontendData.original.data;
            var ctx = document.getElementById('myPieChart').getContext('2d');

            console.log('前端数据',data)
            var myPieChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: data.data,
                    datasets: [{
                        data: data.total_sales,
                       backgroundColor: ['pink'],
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    legend: {
                        display: false,
                        position: 'right',
                        align: 'start',
                        padding: 30
                    }
                }
            });


            $("#searchBtn").click(function () {
                //动作触发后执行都代码
                var start_date = $("#datetimepicker5").val();
                var end_date = $("#datetimepicker8").val();
                var country = $("#geos").val();

                // 发送 AJAX 请求
                function updateOfferChartData() {

                    $.ajax({
                        url: '/admin/intelligence/offerPie',
                        method: 'GET',
                        dataType: 'json',
                        data: {start_date: start_date, end_date: end_date, country: country},
                        success: function (data) {

                            var res = data.data.offer_sale;
                            myPieChart.data.datasets[0].data = res.total_quantity;
                            myPieChart.data.labels = res.offer;
                            // 重新绘制图表
                            myPieChart.update();

                            $("#html_data").empty();
                            $("#html_data").html(res.total_sales_html);
                        },
                    });
                }
                updateOfferChartData();
            });
        });


        // // 更新饼图数据
        // function updatePieChart(newData) {
        //     // 判断数据是否符合预期格式
        //     if (isValidDataFormat(newData)) {
        //         myPieChart.data = newData;
        //         myPieChart.update();
        //     } else {
        //         console.error('Invalid data format');
        //     }
        // }
        //
        //
        // // 判断数据是否符合预期格式
        // function isValidDataFormat(data) {
        //     return (
        //         data &&
        //         data.labels &&
        //         Array.isArray(data.labels) &&
        //         data.datasets &&
        //         Array.isArray(data.datasets) &&
        //         data.datasets.length > 0 &&
        //         data.datasets[0].data &&
        //         Array.isArray(data.datasets[0].data)
        //     );
        // }

    </script>
